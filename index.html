<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Basket Analiz</title>
</head>
<body>

<h2>Basket Analiz Sistemi</h2>

<label>Oran 1:</label>
<input type="number" id="oran1" step="0.01"><br><br>

<label>Oran 2:</label>
<input type="number" id="oran2" step="0.01"><br><br>

<button onclick="analiz()">Analiz Et</button>

<h3 id="sonuc"></h3>

<script>

async function analiz() {

    const sonucElement = document.getElementById("sonuc");
    sonucElement.innerText = "İstek gönderiliyor...";

    const oran1 = Number(document.getElementById("oran1").value);
    const oran2 = Number(document.getElementById("oran2").value);

    if (!oran1 || !oran2) {
        sonucElement.innerText = "Oranları gir.";
        return;
    }

    try {

        const response = await fetch("https://basket-api-ro0g.onrender.com/analyze", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                oran1: oran1,
                oran2: oran2
            })
        });

        if (!response.ok) {
            sonucElement.innerText = "API cevap vermedi";
            return;
        }

        const data = await response.json();

        sonucElement.innerText = "Sonuç: " + data.sonuc;

    } catch (error) {

        console.error(error);
        sonucElement.innerText = "Bağlantı hatası";

    }
}

</script>

</body>
</html>
